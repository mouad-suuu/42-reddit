@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

/* ===== BASE THEME STRUCTURE ===== */
/* Default theme is manga (light) */
:root {
  /* Manga/Drafting Theme Colors (default) */
  --manga-paper: #F5F0E6;
  --manga-paper-dark: #EBE4D6;
  --manga-ink: #000000;
  --manga-ink-light: #333333;
  --manga-gray: #666666;
  --manga-gray-light: #999999;
  --manga-accent: #1a1a1a;
  --manga-seal: #8B0000;

  /* Cyberpunk Theme Colors */
  --cyber-black: #050505;
  --cyber-dark: #0a0a0f;
  --cyber-panel: #12121a;
  --cyber-border: #2a2a35;
  --cyber-cyan: #00f0ff;
  --cyber-purple: #bc13fe;
  --cyber-green: #0aff68;

  /* Status Colors - Manga (Default) */
  --status-in-progress: #1d4ed8;
  /* blue-700 */
  --status-in-progress-bg: #eff6ff;
  /* blue-50 */
  --status-in-progress-border: #bfdbfe;
  /* blue-200 */

  --status-searching: #7e22ce;
  /* purple-700 */
  --status-searching-bg: #faf5ff;
  /* purple-50 */
  --status-searching-border: #e9d5ff;
  /* purple-200 */

  --status-waiting: #c2410c;
  /* orange-700 */
  --status-waiting-bg: #fff7ed;
  /* orange-50 */
  --status-waiting-border: #fed7aa;
  /* orange-200 */

  --status-neutral: #4b5563;
  /* gray-600 */
  --status-neutral-bg: #f9fafb;
  /* gray-50 */
  --status-neutral-border: #e5e7eb;
  /* gray-200 */

  --status-success: #15803d;
  /* green-700 */
  --status-success-bg: #f0fdf4;
  /* green-50 */
  --status-success-border: #bbf7d0;
  /* green-200 */

  --status-dev-fail: #b91c1c;
  /* red-700 */
  --status-dev-fail-bg: #fef2f2;
  /* red-50 */
  --status-dev-fail-border: #fecaca;
  /* red-200 */
}

/* ===== MANGA THEME (explicit) ===== */
[data-theme="manga"] {
  --background: var(--manga-paper);
  --foreground: var(--manga-ink);
  --card: #FFFFFF;
  --card-foreground: var(--manga-ink);
  --popover: #FFFFFF;
  --popover-foreground: var(--manga-ink);
  --primary: var(--manga-ink);
  --primary-foreground: var(--manga-paper);
  --secondary: var(--manga-paper-dark);
  --secondary-foreground: var(--manga-ink);
  --muted: var(--manga-paper-dark);
  --muted-foreground: var(--manga-gray);
  --accent: var(--manga-ink-light);
  --accent-foreground: var(--manga-paper);
  --destructive: #8B0000;
  --destructive-foreground: #ffffff;
  --border: var(--manga-ink);
  --input: var(--manga-paper);
  --ring: var(--manga-ink);
  --chart-1: var(--manga-ink);
  --chart-2: var(--manga-gray);
  --chart-3: var(--manga-gray-light);
  --chart-4: #4a4a4a;
  --chart-5: #2a2a2a;
  --sidebar: var(--manga-paper);
  --sidebar-foreground: var(--manga-ink);
  --sidebar-primary: var(--manga-ink);
  --sidebar-primary-foreground: var(--manga-paper);
  --sidebar-accent: var(--manga-paper-dark);
  --sidebar-accent-foreground: var(--manga-ink);
  --sidebar-border: var(--manga-ink);
  --sidebar-ring: var(--manga-ink);

  /* Status Colors - Manga Explicit */
  --status-in-progress: #1d4ed8;
  --status-in-progress-bg: #eff6ff;
  --status-in-progress-border: #bfdbfe;

  --status-searching: #7e22ce;
  --status-searching-bg: #faf5ff;
  --status-searching-border: #e9d5ff;

  --status-waiting: #c2410c;
  --status-waiting-bg: #fff7ed;
  --status-waiting-border: #fed7aa;

  --status-neutral: #4b5563;
  --status-neutral-bg: #f9fafb;
  --status-neutral-border: #e5e7eb;

  --status-success: #15803d;
  --status-success-bg: #f0fdf4;
  --status-success-border: #bbf7d0;

  --status-dev-fail: #b91c1c;
  --status-dev-fail-bg: #fef2f2;
  --status-dev-fail-border: #fecaca;


  /* Global Manga Font Override */
  --font-sans: var(--font-manga);

  /* Comic UI Polish */
  --border-width: 3px;
}

/* ===== CYBERPUNK THEME ===== */
[data-theme="cyberpunk"] {
  --background: var(--cyber-black);
  --foreground: #e5e5e5;
  --card: var(--cyber-panel);
  --card-foreground: #ffffff;
  --popover: var(--cyber-panel);
  --popover-foreground: #ffffff;
  --primary: var(--cyber-cyan);
  --primary-foreground: #000000;
  --secondary: var(--cyber-panel);
  --secondary-foreground: #ffffff;
  --muted: var(--cyber-panel);
  --muted-foreground: #9ca3af;
  --accent: var(--cyber-purple);
  --accent-foreground: #ffffff;
  --destructive: #ef4444;
  --destructive-foreground: #ffffff;
  --border: var(--cyber-border);
  --input: var(--cyber-panel);
  --ring: var(--cyber-cyan);
  --chart-1: var(--cyber-cyan);
  --chart-2: var(--cyber-purple);
  --chart-3: var(--cyber-green);
  --chart-4: #f59e0b;
  --chart-5: #ec4899;
  --sidebar: var(--cyber-panel);
  --sidebar-foreground: #ffffff;
  --sidebar-primary: var(--cyber-cyan);
  --sidebar-primary-foreground: #000000;
  --sidebar-accent: var(--cyber-panel);
  --sidebar-accent-foreground: #ffffff;
  --sidebar-border: var(--cyber-border);
  --sidebar-ring: var(--cyber-cyan);

  /* Status Colors - Cyberpunk */
  --status-in-progress: var(--cyber-cyan);
  --status-in-progress-bg: rgba(0, 240, 255, 0.1);
  --status-in-progress-border: rgba(0, 240, 255, 0.3);

  --status-searching: var(--cyber-purple);
  --status-searching-bg: rgba(188, 19, 254, 0.1);
  --status-searching-border: rgba(188, 19, 254, 0.3);

  --status-waiting: #fb923c;
  /* orange-400 */
  --status-waiting-bg: rgba(249, 115, 22, 0.1);
  --status-waiting-border: rgba(249, 115, 22, 0.3);

  --status-neutral: #9ca3af;
  /* gray-400 */
  --status-neutral-bg: rgba(107, 114, 128, 0.1);
  --status-neutral-border: rgba(107, 114, 128, 0.3);

  --status-success: var(--cyber-green);
  --status-success-bg: rgba(10, 255, 104, 0.1);
  --status-success-border: rgba(10, 255, 104, 0.3);

  --status-dev-fail: #ef4444;
  --status-dev-fail-bg: rgba(239, 68, 68, 0.1);
  --status-dev-fail-border: rgba(239, 68, 68, 0.3);
}

@theme inline {
  /* Fonts */
  --font-family-sans: var(--font-sans);
  --font-family-display: var(--font-display);

  /* Base colors */
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --radius-sm: 2px 4px 2px 4px;
  --radius-md: 2px 5px 2px 5px;
  --radius-lg: 3px 6px 3px 6px;
  --radius-xl: 4px 8px 4px 8px;

  /* Manga theme colors */
  --color-manga-paper: var(--manga-paper);
  --color-manga-paper-dark: var(--manga-paper-dark);
  --color-manga-ink: var(--manga-ink);
  --color-manga-ink-light: var(--manga-ink-light);
  --color-manga-gray: var(--manga-gray);
  --color-manga-gray-light: var(--manga-gray-light);
  --color-manga-accent: var(--manga-accent);
  --color-manga-seal: var(--manga-seal);

  /* Cyberpunk colors */
  --color-cyber-black: var(--cyber-black);
  --color-cyber-dark: var(--cyber-dark);
  --color-cyber-panel: var(--cyber-panel);
  --color-cyber-border: var(--cyber-border);
  --color-cyber-cyan: var(--cyber-cyan);
  --color-cyber-purple: var(--cyber-purple);
  --color-cyber-green: var(--cyber-green);

  /* Status Colors */
  --color-status-in-progress: var(--status-in-progress);
  --color-status-in-progress-bg: var(--status-in-progress-bg);
  --color-status-in-progress-border: var(--status-in-progress-border);

  --color-status-searching: var(--status-searching);
  --color-status-searching-bg: var(--status-searching-bg);
  --color-status-searching-border: var(--status-searching-border);

  --color-status-waiting: var(--status-waiting);
  --color-status-waiting-bg: var(--status-waiting-bg);
  --color-status-waiting-border: var(--status-waiting-border);

  --color-status-neutral: var(--status-neutral);
  --color-status-neutral-bg: var(--status-neutral-bg);
  --color-status-neutral-border: var(--status-neutral-border);

  --color-status-success: var(--status-success);
  --color-status-success-bg: var(--status-success-bg);
  --color-status-success-border: var(--status-success-border);

  --color-status-dev-fail: var(--status-dev-fail);
  --color-status-dev-fail-bg: var(--status-dev-fail-bg);
  --color-status-dev-fail-border: var(--status-dev-fail-border);

  /* Legacy color mappings */
  --color-cyan-500: var(--cyber-cyan);
  --color-purple-500: var(--cyber-purple);
  --color-purple-600: #9d0fe0;

  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

@layer base {

  /* PERFORMANCE: Minimal transitions - only apply to body for smooth feel */
  body {
    @apply bg-background text-foreground border-border outline-ring/50;
  }

  /* Selection styling - theme aware */
  ::selection {
    background-color: var(--primary);
    color: var(--primary-foreground);
  }
}

/* Theme transition wipe animation - top to bottom */
@keyframes theme-wipe-down {
  0% {
    transform: translateY(-100%);
  }

  100% {
    transform: translateY(0%);
  }
}

@keyframes theme-wipe-exit {
  0% {
    transform: translateY(0%);
  }

  100% {
    transform: translateY(100%);
  }
}

/* Theme transition overlay */
#theme-transition-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 99999;
  pointer-events: none;
  transform: translateY(-100%);
}

/* Transitioning to manga (light) - dark overlay wipes down then reveals light */
html.theme-transitioning-to-manga #theme-transition-overlay {
  background: linear-gradient(to bottom,
      #0a0a0f 0%,
      #0a0a0f 50%,
      #1a1a2e 100%);
  animation: theme-wipe-down 0.3s ease-out forwards,
    theme-wipe-exit 0.3s ease-in 0.3s forwards;
}

/* Transitioning to cyberpunk (dark) - light overlay wipes down then reveals dark */
html.theme-transitioning-to-cyberpunk #theme-transition-overlay {
  background: linear-gradient(to bottom,
      #f5f0e6 0%,
      #f5f0e6 50%,
      #e8e0d0 100%);
  animation: theme-wipe-down 0.3s ease-out forwards,
    theme-wipe-exit 0.3s ease-in 0.3s forwards;
}

[data-theme="manga"] body,
:root:not([data-theme]) body {
  background-color: var(--manga-paper);
}

/* Manga Layer Styles via ID (Smooth Transition) */
#bg-layer-manga {
  /* Manga paper texture + Clouds + Screentone */
  background-image:
    /* Screentone dots (ink) - Lightened for readability */
    radial-gradient(rgba(0, 0, 0, 0.15) 1.5px, transparent 1.5px),
    /* Cloud Layer 1 (White clouds) - Increased visibility */
    radial-gradient(circle at 15% 20%, rgba(255, 255, 255, 0.9) 0%, transparent 20%),
    radial-gradient(circle at 85% 30%, rgba(255, 255, 255, 0.9) 0%, transparent 25%),
    radial-gradient(ellipse at 50% 10%, rgba(255, 255, 255, 0.9) 0%, transparent 30%),
    /* Sky Gradient (Light Grey to Paper) */
    linear-gradient(to bottom, #dbeafe 0%, transparent 40%),
    /* Diagonal hatch */
    repeating-linear-gradient(45deg, rgba(0, 0, 0, 0.02) 0px, rgba(0, 0, 0, 0.02) 1px, transparent 1px, transparent 10px);
  background-size:
    40px 40px,
    100% 100%, 100% 100%, 100% 100%,
    100% 100%,
    100% 100%;

  /* Animate clouds drifting slowly */
  animation: manga-cloud-drift 60s linear infinite alternate;
  will-change: opacity;
}

/* Activate manga layer when theme is manga */
[data-theme="manga"] #bg-layer-manga,
:root:not([data-theme]) #bg-layer-manga {
  opacity: 1;
}

/* Paper grain/noise overlay - now part of the layer or separate */
[data-theme="manga"] #bg-layer-manga::before,
:root:not([data-theme]) #bg-layer-manga::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  /* background-image: url("data:image/svg+xml..."); REMOVED for performance */
  /* Using simple grain effect or just transparency instead */
  opacity: 0.03;
  pointer-events: none;
}

@keyframes manga-cloud-drift {
  0% {
    background-position: 0px 0px;
  }

  100% {
    background-position: 50px 20px;
  }
}

/* Manga Action Button */
.manga-button-action {
  position: relative;
  background: var(--manga-ink);
  color: var(--manga-paper);
  border: 3px solid var(--manga-ink);
  box-shadow: 8px 8px 0px var(--manga-gray);
  clip-path: polygon(2% 0%, 100% 0%, 100% 90%, 95% 100%, 0% 100%, 0% 10%);
  transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  overflow: visible;
}

.manga-button-action:hover {
  transform: scale(1.05) rotate(-1deg);
  box-shadow: 12px 12px 0px var(--manga-ink);
  background: var(--manga-paper) !important;
  color: var(--manga-ink) !important;
  border-color: var(--manga-ink);
}

.manga-button-action::before {
  content: '';
  position: absolute;
  top: -5px;
  left: -5px;
  right: -5px;
  bottom: -5px;
  border: 1px solid var(--manga-ink);
  opacity: 0;
  transition: opacity 0.2s;
  z-index: -1;
  transform: rotate(2deg);
}

.manga-button-action:hover::before {
  opacity: 1;
}

/* Manga scrollbar */
[data-theme="manga"] ::-webkit-scrollbar,
:root:not([data-theme]) ::-webkit-scrollbar {
  width: 8px;
}

[data-theme="manga"] ::-webkit-scrollbar-track,
:root:not([data-theme]) ::-webkit-scrollbar-track {
  background: var(--manga-paper-dark);
  border-left: 2px solid var(--manga-ink);
}

[data-theme="manga"] ::-webkit-scrollbar-thumb,
:root:not([data-theme]) ::-webkit-scrollbar-thumb {
  background: var(--manga-ink);
}

[data-theme="manga"] ::-webkit-scrollbar-thumb:hover,
:root:not([data-theme]) ::-webkit-scrollbar-thumb:hover {
  background: var(--manga-ink-light);
}

/* ===== CYBERPUNK THEME BODY STYLES ===== */
[data-theme="cyberpunk"] body {
  background-color: var(--cyber-black);
}

@layer utilities {
  .font-display {
    font-family: var(--font-display);
  }

  .font-manga {
    font-family: var(--font-manga), cursive;
    letter-spacing: 0.05em;
  }
}

/* ... existing code ... */

/* Cyberpunk Layer Styles via ID (Smooth Transition) */
#bg-layer-cyber {
  /* Two-layer grid + STAR PARTICLES */
  background-image:
    /* Stars/Particles - Bright dots */
    radial-gradient(white 1px, transparent 1.5px),
    radial-gradient(rgba(0, 240, 255, 0.8) 1.5px, transparent 2px),
    /* Grid */
    linear-gradient(rgba(0, 240, 255, 0.1) 1px, transparent 1px),
    linear-gradient(90deg, rgba(0, 240, 255, 0.1) 1px, transparent 1px),
    linear-gradient(rgba(255, 255, 255, 0.05) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255, 255, 255, 0.05) 1px, transparent 1px);
  background-size:
    50px 50px,
    90px 90px,
    100px 100px, 100px 100px,
    20px 20px, 20px 20px;
  background-position:
    0 0,
    15px 15px,
    -1px -1px, -1px -1px,
    -1px -1px, -1px -1px;

  /* Animate the grid to scroll */
  animation: cyber-grid-scroll 20s linear infinite;
  will-change: opacity;
}

/* Activate cyber layer when theme is cyberpunk */
[data-theme="cyberpunk"] #bg-layer-cyber {
  opacity: 1;
}

/* Animated background glows */
#bg-layer-cyber::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background:
    radial-gradient(circle at 50% 50%, rgba(0, 240, 255, 0.15) 0%, transparent 60%),
    radial-gradient(circle at 80% 20%, rgba(188, 19, 254, 0.15) 0%, transparent 60%),
    radial-gradient(circle at 20% 80%, rgba(10, 255, 104, 0.1) 0%, transparent 60%);
  /* filter: blur(60px); REMOVED for performance */
  animation: pulse-glow 6s ease-in-out infinite alternate;
}

/* Scanline effect */
#bg-layer-cyber::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: repeating-linear-gradient(0deg,
      transparent 0px,
      transparent 1px,
      rgba(0, 240, 255, 0.03) 2px,
      rgba(0, 240, 255, 0.03) 3px);
  /* backdrop-filter: contrast(120%) brightness(110%); REMOVED for performance */
  background-color: rgba(0, 0, 0, 0.1);
  /* Fallback overlay */
  opacity: 0.4;
  pointer-events: none;
}

@keyframes cyber-grid-scroll {
  0% {
    background-position:
      0 0,
      /* Stars 1 */
      15px 15px,
      /* Stars 2 */
      -1px -1px,
      /* Grid 1 */
      -1px -1px,
      /* Grid 1R */
      -1px -1px,
      /* Grid 2 */
      -1px -1px;
    /* Grid 2R */
  }

  100% {
    background-position:
      0 50px,
      /* Stars 1 (+50px) */
      15px 105px,
      /* Stars 2 (+90px) */
      -1px 99px,
      /* Grid 1 (+100px) */
      -1px 99px,
      /* Grid 1R */
      -1px 19px,
      /* Grid 2 (+20px) */
      -1px 19px;
    /* Grid 2R */
  }
}

@keyframes pulse-glow {
  0% {
    opacity: 0.5;
    transform: scale(1);
  }

  50% {
    opacity: 0.8;
    transform: scale(1.1);
  }

  100% {
    opacity: 0.5;
    transform: scale(1);
  }
}

/* Cyberpunk selection styling */
[data-theme="cyberpunk"] ::selection {
  background-color: var(--cyber-cyan);
  color: #000000;
}

/* Cyberpunk scrollbar */
[data-theme="cyberpunk"] ::-webkit-scrollbar {
  width: 6px;
}

[data-theme="cyberpunk"] ::-webkit-scrollbar-track {
  background: var(--cyber-dark);
}

[data-theme="cyberpunk"] ::-webkit-scrollbar-thumb {
  background: var(--cyber-border);
}

[data-theme="cyberpunk"] ::-webkit-scrollbar-thumb:hover {
  background: var(--cyber-cyan);
}

/* Cyberpunk Button - Advanced Glitch & Glow */
.cyber-button {
  position: relative;
  /* Fill the box: Dark semi-transparent background for readability */
  background: rgba(5, 5, 10, 0.7);
  backdrop-filter: blur(4px);
  /* Fix text visibility: Force Cyan */
  color: var(--cyber-cyan) !important;
  font-family: var(--font-display);
  border: 2px solid var(--cyber-cyan);
  text-transform: uppercase;
  letter-spacing: 0.1em;
  overflow: hidden;
  transition: 0.3s;
  clip-path: polygon(0 0, 100% 0, 100% 85%, 92% 100%, 0 100%);
  box-shadow: 0 0 15px rgba(0, 240, 255, 0.15), inset 0 0 20px rgba(0, 240, 255, 0.05);
  z-index: 1;
  /* For stacking context */
}

.cyber-button:hover {
  /* background: var(--cyber-cyan); <-- Handled by ::after now */
  color: var(--cyber-black) !important;
  box-shadow: 0 0 30px rgba(0, 240, 255, 0.6), 0 0 60px rgba(0, 240, 255, 0.4);
  text-shadow: none;
}

/* Scanline Highlight - REMOVED ANIMATION */
.cyber-button::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.8), transparent);
  transition: 0.5s;
  /* animation: cyber-scan 3s infinite linear; REMOVED per user request */
  z-index: 2;
  /* Scanline on top of fill */
}

/* Side Fill Animation */
.cyber-button::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 0%;
  height: 100%;
  background: var(--cyber-cyan);
  transition: width 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  z-index: 0;
  /* Behind text (which is z-10 in component) but above base bg */
}

.cyber-button:hover::after {
  width: 100%;
}

@keyframes cyber-scan {
  0% {
    left: -100%;
  }

  20% {
    left: 100%;
  }

  100% {
    left: 100%;
  }
}

@keyframes cyber-glitch {
  0% {
    transform: translate(0);
  }

  20% {
    transform: translate(-2px, 2px);
  }

  40% {
    transform: translate(-2px, -2px);
  }

  60% {
    transform: translate(2px, 2px);
  }

  80% {
    transform: translate(2px, -2px);
  }

  100% {
    transform: translate(0);
  }
}

@layer utilities {
  .font-display {
    font-family: var(--font-display);
  }
}

/* ===== THEME-AWARE UTILITY CLASSES ===== */

/* Theme shadow - adapts to current theme */
.theme-shadow {
  box-shadow: 6px 6px 0px 0px var(--border);
}

.theme-shadow-sm {
  box-shadow: 4px 4px 0px 0px var(--border);
}

.theme-shadow-lg {
  box-shadow: 8px 8px 0px 0px var(--border);
}

/* ===== MANGA-SPECIFIC UTILITY CLASSES ===== */

/* Screentone patterns - dot patterns for depth */
.screentone {
  background-image: radial-gradient(circle, var(--manga-ink) 1px, transparent 1px);
  background-size: 4px 4px;
}

.screentone-light {
  background-image: radial-gradient(circle, var(--manga-ink) 0.5px, transparent 0.5px);
  background-size: 6px 6px;
}

.screentone-dense {
  background-image: radial-gradient(circle, var(--manga-ink) 1.5px, transparent 1.5px);
  background-size: 3px 3px;
}

.screentone-hover:hover {
  background-image: radial-gradient(circle, var(--manga-ink) 1px, transparent 1px);
  background-size: 4px 4px;
  background-color: var(--manga-paper);
}

/* Cyberpunk theme: replace screentone with subtle glow effect on hover */
[data-theme="cyberpunk"] .screentone-hover:hover {
  background-image: none;
  background-color: transparent;
  box-shadow: 0 0 6px rgba(0, 240, 255, 0.2);
}

/* Hatch patterns using SVG */
.hatch {
  background-image: url("data:image/svg+xml,%3Csvg width='10' height='10' viewBox='0 0 10 10' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 10L10 0' stroke='%23000' stroke-width='0.5' fill='none'/%3E%3C/svg%3E");
  background-size: 10px 10px;
}

.hatch-dense {
  background-image: url("data:image/svg+xml,%3Csvg width='6' height='6' viewBox='0 0 6 6' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 6L6 0' stroke='%23000' stroke-width='0.5' fill='none'/%3E%3C/svg%3E");
  background-size: 6px 6px;
}

.crosshatch {
  background-image:
    url("data:image/svg+xml,%3Csvg width='10' height='10' viewBox='0 0 10 10' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 10L10 0M0 0L10 10' stroke='%23000' stroke-width='0.5' fill='none'/%3E%3C/svg%3E");
  background-size: 10px 10px;
}

/* Hard shadow utilities - manga theme */
.manga-shadow {
  box-shadow: 6px 6px 0px 0px var(--manga-ink);
}

.manga-shadow-sm {
  box-shadow: 4px 4px 0px 0px var(--manga-ink);
}

.manga-shadow-lg {
  box-shadow: 8px 8px 0px 0px var(--manga-ink);
}

/* Lively Manga Interaction */
.manga-shadow-hover {
  transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.manga-shadow-hover:hover {
  box-shadow: 8px 8px 0px 0px var(--manga-ink);
  transform: translate(-3px, -3px);
  z-index: 10;
}

.manga-shadow-hover:active {
  box-shadow: 2px 2px 0px 0px var(--manga-ink);
  transform: translate(0px, 0px);
}

/* Cyberpunk theme: replace manga shadows with subtle glows */
[data-theme="cyberpunk"] .manga-shadow {
  box-shadow: 0 0 8px rgba(0, 240, 255, 0.1), 0 0 16px rgba(0, 240, 255, 0.05);
}

[data-theme="cyberpunk"] .manga-shadow-sm {
  box-shadow: 0 0 5px rgba(0, 240, 255, 0.08), 0 0 10px rgba(0, 240, 255, 0.04);
}

[data-theme="cyberpunk"] .manga-shadow-lg {
  box-shadow: 0 0 12px rgba(0, 240, 255, 0.15), 0 0 24px rgba(0, 240, 255, 0.08);
}

[data-theme="cyberpunk"] .manga-shadow-hover:hover {
  box-shadow: 0 0 12px rgba(0, 240, 255, 0.2), 0 0 24px rgba(0, 240, 255, 0.1);
  transform: translateY(-1px);
}

/* Irregular border radius - manga theme */
.irregular-border {
  border-radius: 2px 5px 2px 5px;
}

.irregular-border-alt {
  border-radius: 5px 2px 5px 2px;
}

/* Cyberpunk theme: sharp corners */
[data-theme="cyberpunk"] .irregular-border,
[data-theme="cyberpunk"] .irregular-border-alt {
  border-radius: 0;
}

/* Parallelogram shape - lower corner to the right */
.parallelogram {
  transform: skewY(2deg);
}

.parallelogram>* {
  transform: skewY(-2deg);
}

/* Thick ink borders */
.ink-border {
  border: 2px solid var(--manga-ink);
}

.ink-border-thick {
  border: 3px solid var(--manga-ink);
}

.ink-border-heavy {
  border: 4px solid var(--manga-ink);
}

/* Cyberpunk: replace ink borders with cyan borders */
[data-theme="cyberpunk"] .ink-border {
  border: 1px solid var(--cyber-border);
}

[data-theme="cyberpunk"] .ink-border-thick {
  border: 2px solid var(--cyber-border);
}

[data-theme="cyberpunk"] .ink-border-heavy {
  border: 2px solid var(--cyber-cyan);
}

/* Inked seal/stamp style */
.inked-seal {
  border: 2px solid var(--manga-ink);
  border-radius: 2px 4px 3px 5px;
  padding: 2px 8px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  position: relative;
}

.inked-seal::before {
  content: '';
  position: absolute;
  top: -1px;
  left: -1px;
  right: -1px;
  bottom: -1px;
  border: 1px solid var(--manga-ink);
  border-radius: 3px 5px 4px 6px;
  opacity: 0.3;
  pointer-events: none;
}

/* Cyberpunk: replace seal with subtle badge */
[data-theme="cyberpunk"] .inked-seal {
  border: 1px solid var(--cyber-cyan);
  border-radius: 0;
  background: rgba(0, 240, 255, 0.05);
  box-shadow: none;
}

[data-theme="cyberpunk"] .inked-seal::before {
  display: none;
}

/* Hand-drawn progress bar */
/* Hand-drawn progress bar */
.hand-drawn-progress {
  position: relative;
  height: 12px;
  background: var(--manga-paper);
  border: 2px solid var(--manga-ink);
  border-radius: 1px 3px 2px 4px;
  overflow: hidden;
}

/* Vote Animation */
@keyframes vote-pop {
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(1.5);
  }

  100% {
    transform: scale(1);
  }
}

.animate-vote-pop {
  animation: vote-pop 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

/* Entry Animations */
@keyframes fade-in-up {
  0% {
    opacity: 0;
    transform: translateY(20px);
  }

  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-in-up {
  opacity: 0;
  animation: fade-in-up 0.6s ease-out forwards;
}

@media (prefers-reduced-motion: reduce) {
  .animate-in-up {
    opacity: 1;
    animation: none;
  }
}

/* Stagger delays */
.delay-100 {
  animation-delay: 100ms;
}

.delay-200 {
  animation-delay: 200ms;
}

.delay-300 {
  animation-delay: 300ms;
}

@keyframes grow-width {
  from {
    width: 0;
  }
}

.animate-skill-fill {
  animation: grow-width 1s ease-out forwards;
}

/* Thicker borders for Manga theme */
[data-theme="manga"] .border-2 {
  border-width: 3px;
}


.hand-drawn-progress-fill {
  height: 100%;
  background-image:
    repeating-linear-gradient(90deg,
      var(--manga-ink) 0px,
      var(--manga-ink) 8px,
      transparent 8px,
      transparent 10px);
  background-color: var(--manga-ink);
  transition: width 0.5s ease;
}

/* Cyberpunk: sleek progress bar */
[data-theme="cyberpunk"] .hand-drawn-progress {
  background: var(--cyber-dark);
  border: 1px solid var(--cyber-border);
  border-radius: 0;
}

[data-theme="cyberpunk"] .hand-drawn-progress-fill {
  background-image: none;
  background: linear-gradient(90deg, var(--cyber-cyan), var(--cyber-purple));
  box-shadow: none;
}

/* Manga panel styling */
.manga-panel {
  background: var(--card);
  border: 3px solid var(--manga-ink);
  border-radius: 2px 5px 2px 5px;
  box-shadow: 6px 6px 0px 0px var(--manga-ink);
  position: relative;
}

.manga-panel::after {
  content: '';
  position: absolute;
  top: 4px;
  left: 4px;
  right: -4px;
  bottom: -4px;
  border: 1px solid var(--manga-ink);
  border-radius: 2px 5px 2px 5px;
  pointer-events: none;
  opacity: 0.2;
}

/* Cyberpunk: cyber panel */
[data-theme="cyberpunk"] .manga-panel {
  border: 1px solid var(--cyber-border);
  border-radius: 0;
  box-shadow: none;
}

[data-theme="cyberpunk"] .manga-panel::after {
  display: none;
}

/* Deformed manga panel - angular/dynamic shape like action panels */
.manga-panel-deformed {
  background: var(--card);
  position: relative;
  padding: 1.5rem;
  clip-path: polygon(0% 3%,
      2% 0%,
      98% 0%,
      100% 2%,
      100% 97%,
      97% 100%,
      3% 100%,
      0% 98%);
}

.manga-panel-deformed::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--card);
  clip-path: polygon(0% 3%,
      2% 0%,
      98% 0%,
      100% 2%,
      100% 97%,
      97% 100%,
      3% 100%,
      0% 98%);
  z-index: -2;
}

.manga-panel-deformed::after {
  content: '';
  position: absolute;
  top: -3px;
  left: -3px;
  right: -3px;
  bottom: -3px;
  background: var(--manga-ink);
  clip-path: polygon(0% 3%,
      2% 0%,
      98% 0%,
      100% 2%,
      100% 97%,
      97% 100%,
      3% 100%,
      0% 98%);
  z-index: -3;
}

/* Alternative: Slanted/tilted panel */
.manga-panel-slant {
  background: var(--card);
  border: 3px solid var(--manga-ink);
  position: relative;
  transform: rotate(-0.5deg);
  box-shadow: 5px 6px 0px 0px var(--manga-ink);
}

.manga-panel-slant>* {
  transform: rotate(0.5deg);
}

/* Dynamic action panel with dramatic angles */
.manga-panel-action {
  background: var(--card);
  position: relative;
  clip-path: polygon(0% 8px,
      8px 0%,
      calc(100% - 4px) 0%,
      100% 4px,
      100% calc(100% - 8px),
      calc(100% - 8px) 100%,
      4px 100%,
      0% calc(100% - 4px));
}

.manga-panel-action::before {
  content: '';
  position: absolute;
  top: -3px;
  left: -3px;
  right: -3px;
  bottom: -3px;
  background: var(--manga-ink);
  clip-path: polygon(0% 8px,
      8px 0%,
      calc(100% - 4px) 0%,
      100% 4px,
      100% calc(100% - 8px),
      calc(100% - 8px) 100%,
      4px 100%,
      0% calc(100% - 4px));
  z-index: -1;
}

/* Brush stroke frame panel */
.manga-panel-brush {
  background: var(--card);
  position: relative;
  border: none;
}

.manga-panel-brush::before {
  content: '';
  position: absolute;
  top: -4px;
  left: -4px;
  right: -4px;
  bottom: -4px;
  pointer-events: none;
  z-index: -1;
  background:
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 8'%3E%3Cpath d='M0,4 Q10,2 30,3.5 Q80,5 120,3 Q160,5 190,3 Q198,2 200,4' stroke='%23000' stroke-width='4' fill='none' stroke-linecap='round'/%3E%3C/svg%3E") top / 100% 8px no-repeat,
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 8'%3E%3Cpath d='M0,4 Q15,2 40,4 Q100,6 150,3.5 Q180,5 200,4' stroke='%23000' stroke-width='5' fill='none' stroke-linecap='round'/%3E%3C/svg%3E") bottom / 100% 8px no-repeat,
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 200'%3E%3Cpath d='M4,0 Q2,20 3.5,50 Q5,100 3,150 Q5,180 4,200' stroke='%23000' stroke-width='4' fill='none' stroke-linecap='round'/%3E%3C/svg%3E") left / 8px 100% no-repeat,
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 200'%3E%3Cpath d='M4,0 Q2,30 4,60 Q6,120 3.5,160 Q5,190 4,200' stroke='%23000' stroke-width='5' fill='none' stroke-linecap='round'/%3E%3C/svg%3E") right / 8px 100% no-repeat;
}

.manga-panel-brush::after {
  content: '';
  position: absolute;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  pointer-events: none;
  background:
    radial-gradient(ellipse 10px 8px at 0% 0%, rgba(0, 0, 0, 0.4) 0%, transparent 70%),
    radial-gradient(ellipse 8px 10px at 100% 0%, rgba(0, 0, 0, 0.35) 0%, transparent 70%),
    radial-gradient(ellipse 9px 7px at 0% 100%, rgba(0, 0, 0, 0.3) 0%, transparent 70%),
    radial-gradient(ellipse 12px 10px at 100% 100%, rgba(0, 0, 0, 0.45) 0%, transparent 70%);
}

/* ===== CYBERPUNK-SPECIFIC UTILITY CLASSES ===== */

/* Cyberpunk clip corner */
.clip-corner {
  clip-path: polygon(0 0,
      100% 0,
      100% calc(100% - 15px),
      calc(100% - 15px) 100%,
      0 100%);
}

.clip-corner-top {
  clip-path: polygon(15px 0,
      100% 0,
      100% 100%,
      0 100%,
      0 15px);
}

/* Cyberpunk border effect */
.cyber-border {
  position: relative;
}

.cyber-border::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  border: 1px solid var(--cyber-border);
  pointer-events: none;
}

.cyber-border::after {
  content: '';
  position: absolute;
  bottom: -1px;
  right: -1px;
  width: 15px;
  height: 15px;
  border-bottom: 2px solid var(--cyber-cyan);
  border-right: 2px solid var(--cyber-cyan);
  pointer-events: none;
}

/* Cyberpunk glow effects - subtle */
.cyber-glow {
  box-shadow: 0 0 8px rgba(0, 240, 255, 0.15), 0 0 16px rgba(0, 240, 255, 0.08);
}

.cyber-glow-purple {
  box-shadow: 0 0 8px rgba(188, 19, 254, 0.15), 0 0 16px rgba(188, 19, 254, 0.08);
}

.cyber-glow-green {
  box-shadow: 0 0 8px rgba(10, 255, 104, 0.15), 0 0 16px rgba(10, 255, 104, 0.08);
}

/* Cyberpunk gradient text */
.cyber-gradient-text {
  background: linear-gradient(135deg, var(--cyber-cyan) 0%, var(--cyber-purple) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* Editorial heading style */
.editorial-heading {
  font-family: var(--font-display);
  font-weight: 900;
  letter-spacing: -0.02em;
  text-transform: uppercase;
}

/* ===== ANIMATIONS ===== */
@keyframes shimmer {
  0% {
    transform: translateX(-100%);
  }

  100% {
    transform: translateX(100%);
  }
}

@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateY(10px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ===== GITHUB MARKDOWN OVERRIDES ===== */
/* Ensure readability in Cyberpunk/Dark themes if system preference doesn't match */

[data-theme="cyberpunk"] .markdown-body {
  color: #e6edf3 !important;
  /* GitHub Dark text color */
  background-color: transparent !important;
}

[data-theme="cyberpunk"] .markdown-body h1,
[data-theme="cyberpunk"] .markdown-body h2,
[data-theme="cyberpunk"] .markdown-body h3,
[data-theme="cyberpunk"] .markdown-body h4,
[data-theme="cyberpunk"] .markdown-body h5,
[data-theme="cyberpunk"] .markdown-body h6 {
  color: #e6edf3 !important;
  border-bottom-color: var(--cyber-border) !important;
}

[data-theme="cyberpunk"] .markdown-body p,
[data-theme="cyberpunk"] .markdown-body li,
[data-theme="cyberpunk"] .markdown-body strong,
[data-theme="cyberpunk"] .markdown-body em {
  color: #e6edf3 !important;
}

[data-theme="cyberpunk"] .markdown-body a {
  color: var(--cyber-cyan) !important;
}

[data-theme="cyberpunk"] .markdown-body pre {
  background-color: var(--cyber-dark) !important;
  border: 1px solid var(--cyber-border) !important;
}

[data-theme="cyberpunk"] .markdown-body code {
  background-color: rgba(110, 118, 129, 0.4) !important;
  /* GitHub Dark code bg */
  color: #e6edf3 !important;
}

[data-theme="cyberpunk"] .markdown-body blockquote {
  color: #8b949e !important;
  border-left-color: var(--cyber-border) !important;
}

[data-theme="cyberpunk"] .markdown-body table tr {
  background-color: transparent !important;
  border-color: var(--cyber-border) !important;
}

[data-theme="cyberpunk"] .markdown-body table tr:nth-child(2n) {
  background-color: rgba(22, 27, 34, 0.5) !important;
}

[data-theme="cyberpunk"] .markdown-body table td,
[data-theme="cyberpunk"] .markdown-body table th {
  border-color: var(--cyber-border) !important;
}

@keyframes stamp {
  0% {
    transform: scale(1.2) rotate(-5deg);
    opacity: 0;
  }

  50% {
    transform: scale(0.95) rotate(2deg);
    opacity: 1;
  }

  100% {
    transform: scale(1) rotate(0deg);
    opacity: 1;
  }
}

@keyframes glow-pulse {

  0%,
  100% {
    box-shadow: 0 0 20px rgba(0, 240, 255, 0.4);
  }

  50% {
    box-shadow: 0 0 30px rgba(0, 240, 255, 0.6);
  }
}

.animate-fade-in {
  animation: fade-in 0.5s ease-out forwards;
}

.animate-fade-in-up {
  animation: fade-in-up 0.4s ease-out forwards;
}

.animate-stamp {
  animation: stamp 0.3s ease-out forwards;
}

.animate-glow-pulse {
  animation: glow-pulse 2s ease-in-out infinite;
}

/* ===== OLD SCROLL/PARCHMENT STYLING (Manga only) ===== */
.scroll-paper {
  background: #FDFCFA;
  position: relative;
  border: 2px solid var(--manga-ink) !important;
  box-shadow:
    inset 0 0 40px rgba(200, 180, 150, 0.2),
    inset 0 0 100px rgba(180, 160, 130, 0.1),
    4px 4px 0 0 var(--manga-ink);
  border-radius: 1px 4px 2px 3px !important;
}

/* Cyberpunk: make scroll-paper a cyber panel */
[data-theme="cyberpunk"] .scroll-paper {
  background: var(--cyber-panel);
  border: 1px solid var(--cyber-border) !important;
  border-radius: 0 !important;
  box-shadow: none;
}

/* Paper texture overlay */
.scroll-paper::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background:
    url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E");
  pointer-events: none;
  border-radius: inherit;
}

[data-theme="cyberpunk"] .scroll-paper::before {
  display: none;
}

/* Worn/aged edge marks */
.scroll-paper::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  border-radius: inherit;
  box-shadow:
    inset 3px 0 8px -4px rgba(139, 119, 92, 0.15),
    inset -5px 0 8px -4px rgba(139, 119, 92, 0.12),
    inset 0 3px 6px -3px rgba(139, 119, 92, 0.1),
    inset 0 -4px 10px -5px rgba(139, 119, 92, 0.18),
    inset 8px 8px 15px -10px rgba(139, 119, 92, 0.1),
    inset -8px 8px 15px -10px rgba(139, 119, 92, 0.08),
    inset 8px -8px 15px -10px rgba(139, 119, 92, 0.12),
    inset -8px -8px 15px -10px rgba(139, 119, 92, 0.15);
}

[data-theme="cyberpunk"] .scroll-paper::after {
  box-shadow: none;
}

/* Decorative fold/crease marks */
.scroll-decoration {
  position: relative;
  overflow: hidden;
}

/* Subtle fold line near top */
.scroll-decoration>*:first-child::before {
  content: '';
  position: absolute;
  top: 60px;
  left: 20px;
  right: 20px;
  height: 1px;
  background: linear-gradient(90deg,
      transparent 0%,
      rgba(139, 119, 92, 0.08) 10%,
      rgba(139, 119, 92, 0.12) 50%,
      rgba(139, 119, 92, 0.08) 90%,
      transparent 100%);
  pointer-events: none;
}

[data-theme="cyberpunk"] .scroll-decoration>*:first-child::before {
  display: none;
}

/* Corner dog-ear effect (top-right) */
.scroll-paper.scroll-decoration::before {
  background:
    linear-gradient(225deg,
      rgba(220, 210, 195, 0.6) 0%,
      rgba(220, 210, 195, 0.3) 8px,
      transparent 8px),
    url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E");
}

[data-theme="cyberpunk"] .scroll-paper.scroll-decoration::before {
  background: none;
}

/* ===== THEME-AWARE UTILITY CLASSES FOR CSS-ONLY THEMING ===== */
/* These classes enable theme switching without JS re-renders */

/* === Text Colors === */
.t-text-primary {
  color: var(--foreground);
}

[data-theme="cyberpunk"] .t-text-primary {
  color: #ffffff;
}

.t-text-muted {
  color: var(--muted-foreground);
}

[data-theme="cyberpunk"] .t-text-muted {
  color: #9ca3af;
}

.t-text-subtle {
  color: var(--muted-foreground);
}

[data-theme="cyberpunk"] .t-text-subtle {
  color: #6b7280;
}

.t-text-accent {
  color: var(--foreground);
}

[data-theme="cyberpunk"] .t-text-accent {
  color: var(--cyber-cyan);
}

.t-text-accent-hover:hover {
  text-decoration: underline;
}

[data-theme="cyberpunk"] .t-text-accent-hover:hover {
  color: var(--cyber-cyan);
  text-decoration: none;
}

/* === Background Colors === */
.t-bg-panel {
  background-color: var(--card);
}

[data-theme="cyberpunk"] .t-bg-panel {
  background-color: var(--cyber-panel);
}

.t-bg-secondary {
  background-color: var(--secondary);
}

[data-theme="cyberpunk"] .t-bg-secondary {
  background-color: rgba(17, 17, 24, 0.5);
}

.t-bg-icon {
  background-color: var(--background);
}

[data-theme="cyberpunk"] .t-bg-icon {
  background-color: #1f2937;
}

/* === Border Colors === */
.t-border {
  border-color: var(--border);
}

[data-theme="cyberpunk"] .t-border {
  border-color: var(--cyber-border);
}

.t-border-hover:hover {
  border-color: var(--border);
}

[data-theme="cyberpunk"] .t-border-hover:hover {
  border-color: var(--cyber-cyan);
}

/* === Card Styles === */
.t-card {
  background-color: var(--card);
  border: 2px solid var(--border);
}

[data-theme="cyberpunk"] .t-card {
  background-color: var(--cyber-panel);
  border: 1px solid var(--cyber-border);
}

[data-theme="cyberpunk"] .t-card:hover {
  border-color: var(--cyber-cyan);
}

/* Card without hover effect */
.t-card-static {
  background-color: var(--card);
  border: 2px solid var(--border);
}

[data-theme="cyberpunk"] .t-card-static {
  background-color: var(--cyber-panel);
  border: 1px solid var(--cyber-border);
}

/* === Interactive Card Styles === */
.t-card-interactive {
  transition: transform 0.2s, box-shadow 0.2s;
}

[data-theme="manga"] .t-card-interactive:hover,
:root:not([data-theme]) .t-card-interactive:hover {
  transform: translate(-3px, -3px);
  box-shadow: 8px 8px 0px 0px var(--manga-ink);
}

[data-theme="cyberpunk"] .t-card-interactive:hover {
  border-color: var(--cyber-cyan);
}

/* === Status Badge Styles === */
.t-badge-recruiting {
  background-color: rgba(139, 0, 0, 0.1);
  color: var(--manga-seal);
  border-color: rgba(139, 0, 0, 0.3);
}

[data-theme="cyberpunk"] .t-badge-recruiting {
  background-color: rgba(0, 240, 255, 0.1);
  color: var(--cyber-cyan);
  border-color: rgba(0, 240, 255, 0.3);
}

.t-badge-active {
  background-color: var(--primary);
  color: var(--primary-foreground);
}

[data-theme="cyberpunk"] .t-badge-active {
  background-color: rgba(10, 255, 104, 0.1);
  color: var(--cyber-green);
  border-color: rgba(10, 255, 104, 0.3);
}

.t-badge-beta {
  background-color: var(--secondary);
  color: var(--secondary-foreground);
}

[data-theme="cyberpunk"] .t-badge-beta {
  background-color: rgba(188, 19, 254, 0.1);
  color: var(--cyber-purple);
  border-color: rgba(188, 19, 254, 0.3);
}

.t-badge-creation {
  background-color: transparent;
  border: 1px solid var(--border);
}

[data-theme="cyberpunk"] .t-badge-creation {
  background-color: rgba(234, 179, 8, 0.1);
  color: #eab308;
  border-color: rgba(234, 179, 8, 0.3);
}

/* === Vote Button Styles === */
.t-vote-up {
  color: var(--muted-foreground);
}

.t-vote-up:hover {
  color: var(--primary);
  background-color: rgba(0, 0, 0, 0.1);
}

[data-theme="cyberpunk"] .t-vote-up:hover {
  color: var(--cyber-cyan);
  background-color: rgba(0, 240, 255, 0.1);
}

.t-vote-up-active {
  color: var(--primary);
  background-color: rgba(0, 0, 0, 0.1);
}

[data-theme="cyberpunk"] .t-vote-up-active {
  color: var(--cyber-cyan);
  background-color: rgba(0, 240, 255, 0.2);
}

.t-score-positive {
  color: #16a34a;
}

[data-theme="cyberpunk"] .t-score-positive {
  color: var(--cyber-cyan);
}

.t-score-zero {
  color: var(--muted-foreground);
}

[data-theme="cyberpunk"] .t-score-zero {
  color: #6b7280;
}

/* === Icon Box Styles === */
.t-icon-box {
  background-color: var(--background);
  border: 2px solid var(--border);
}

[data-theme="cyberpunk"] .t-icon-box {
  background-color: #1f2937;
  border: 2px solid var(--cyber-cyan);
}

.t-icon-box-subtle {
  background-color: var(--background);
  border: 2px solid var(--border);
}

[data-theme="cyberpunk"] .t-icon-box-subtle {
  background-color: #1f2937;
  border: 2px solid #374151;
}

/* === Progress Bar Styles === */
.t-progress-track {
  background-color: var(--secondary);
  border: 2px solid var(--border);
}

[data-theme="cyberpunk"] .t-progress-track {
  background-color: #1f2937;
  border: none;
}

.t-progress-fill {
  background-color: var(--foreground);
}

[data-theme="cyberpunk"] .t-progress-fill {
  background-color: var(--cyber-cyan);
}

/* === Accent Line Styles === */
.t-accent-line {
  background-color: var(--primary);
}

[data-theme="cyberpunk"] .t-accent-line {
  background: linear-gradient(to right, var(--cyber-cyan), transparent);
  transform: translateX(-100%);
  transition: transform 0.5s;
}

[data-theme="cyberpunk"] .group:hover .t-accent-line {
  transform: translateX(0);
}

/* === Stat Box Styles === */
.t-stat-box {
  background-color: var(--secondary);
  border: 2px solid var(--border);
}

[data-theme="cyberpunk"] .t-stat-box {
  background-color: rgba(17, 17, 24, 0.5);
  border: 2px solid #1f2937;
}

/* === Tech Tag Styles === */
.t-tech-tag {
  border: 2px solid var(--border);
  color: var(--foreground);
}

[data-theme="cyberpunk"] .t-tech-tag {
  border-color: #374151;
  color: #9ca3af;
}

/* === Nav Styles === */
.t-nav {
  background-color: var(--card);
  border-bottom: 2px solid var(--border);
}

[data-theme="cyberpunk"] .t-nav {
  background-color: rgba(10, 10, 15, 0.9);
  backdrop-filter: blur(12px);
  border-bottom: 1px solid var(--cyber-border);
}

.t-nav-link {
  color: var(--muted-foreground);
  border: 2px solid transparent;
}

.t-nav-link:hover {
  color: var(--foreground);
  border-color: var(--border);
}

[data-theme="cyberpunk"] .t-nav-link {
  border-width: 1px;
}

[data-theme="cyberpunk"] .t-nav-link:hover {
  color: #ffffff;
  border-color: var(--cyber-border);
}

.t-nav-link-active {
  background-color: var(--primary);
  color: var(--primary-foreground);
}

[data-theme="cyberpunk"] .t-nav-link-active {
  background-color: rgba(0, 240, 255, 0.2);
  border-color: var(--cyber-cyan);
  color: var(--cyber-cyan);
}

/* === Tier Color Styles === */
.t-tier-0 {
  color: var(--muted-foreground);
}

[data-theme="cyberpunk"] .t-tier-0 {
  color: #9ca3af;
}

.t-tier-1 {
  color: #15803d;
}

[data-theme="cyberpunk"] .t-tier-1 {
  color: var(--cyber-green);
}

.t-tier-2 {
  color: #1d4ed8;
}

[data-theme="cyberpunk"] .t-tier-2 {
  color: var(--cyber-cyan);
}

.t-tier-3 {
  color: #7e22ce;
}

[data-theme="cyberpunk"] .t-tier-3 {
  color: var(--cyber-purple);
}

.t-tier-4 {
  color: #c2410c;
}

[data-theme="cyberpunk"] .t-tier-4 {
  color: #fb923c;
}

.t-tier-5 {
  color: #b91c1c;
}

[data-theme="cyberpunk"] .t-tier-5 {
  color: #f87171;
}

/* === Logo Display Toggle === */
/* Default state (manga theme) - show manga logo, hide cyber logo */
.t-logo-manga {
  display: block;
}

.t-logo-cyber {
  display: none;
  position: absolute;
}

/* Cyberpunk theme - hide manga logo, show cyber logo */
[data-theme="cyberpunk"] .t-logo-manga {
  display: none;
}

[data-theme="cyberpunk"] .t-logo-cyber {
  display: block;
  position: static;
}

/* Explicit manga theme rules for consistency */
[data-theme="manga"] .t-logo-manga {
  display: block;
}

[data-theme="manga"] .t-logo-cyber {
  display: none;
}

/* === Brand Text === */
.t-brand-text {
  font-family: var(--font-manga), cursive;
  font-size: 1.875rem;
  letter-spacing: 0.1em;
  color: var(--foreground);
}

[data-theme="cyberpunk"] .t-brand-text {
  font-family: var(--font-display);
  font-size: 1.5rem;
  letter-spacing: 0.05em;
  color: #ffffff;
}

/* === Avatar Styles === */
.t-avatar {
  box-shadow: 4px 4px 0px 0px var(--border);
}

[data-theme="cyberpunk"] .t-avatar {
  box-shadow: none;
  border: 1px solid #4b5563;
}

.t-avatar-fallback {
  background-color: var(--secondary);
}

[data-theme="cyberpunk"] .t-avatar-fallback {
  background-color: #374151;
  border: 1px solid #4b5563;
}

/* === Loading Placeholder === */
.t-loading-placeholder {
  background-color: var(--muted);
  border: 2px solid var(--border);
}

[data-theme="cyberpunk"] .t-loading-placeholder {
  background-color: #374151;
  border: none;
}

/* === Logout Button === */
.t-logout-btn {
  color: var(--muted-foreground);
}

.t-logout-btn:hover {
  color: var(--destructive);
}

[data-theme="cyberpunk"] .t-logout-btn {
  color: #9ca3af;
}

[data-theme="cyberpunk"] .t-logout-btn:hover {
  color: #f87171;
  background-color: rgba(239, 68, 68, 0.1);
}

/* === Login Button === */
.t-login-btn {
  /* Inherits from button variant */
  transition: all 0.2s ease;
}

[data-theme="cyberpunk"] .t-login-btn {
  background-color: transparent;
  border: 1px solid var(--cyber-cyan);
  color: var(--cyber-cyan);
}

[data-theme="cyberpunk"] .t-login-btn:hover {
  background-color: var(--cyber-cyan);
  color: #000000;
}

/* === Hero Section Styles === */
.t-hero-logo {
  background-color: var(--card);
  border: 4px solid var(--border);
  box-shadow: 6px 6px 0px 0px var(--border);
  color: var(--foreground);
}

[data-theme="cyberpunk"] .t-hero-logo {
  background-color: var(--cyber-panel);
  border: 2px solid var(--cyber-cyan);
  box-shadow: 0 0 20px rgba(0, 240, 255, 0.3);
  color: var(--cyber-cyan);
}

.t-hero-title {
  color: var(--foreground);
}

[data-theme="cyberpunk"] .t-hero-title {
  background: linear-gradient(135deg, var(--cyber-cyan) 0%, var(--cyber-purple) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.t-hero-button {
  /* Manga: uses manga-button-action class */
  position: relative;
  background: var(--manga-ink);
  color: var(--manga-paper);
  border: 3px solid var(--manga-ink);
  box-shadow: 8px 8px 0px var(--manga-gray);
  clip-path: polygon(2% 0%, 100% 0%, 100% 90%, 95% 100%, 0% 100%, 0% 10%);
}

.t-hero-button:hover {
  transform: scale(1.05) rotate(-1deg);
  box-shadow: 12px 12px 0px var(--manga-ink);
  background: var(--manga-paper);
  color: var(--manga-ink);
}

[data-theme="cyberpunk"] .t-hero-button {
  background: rgba(5, 5, 10, 0.7);
  color: var(--cyber-cyan);
  border: 2px solid var(--cyber-cyan);
  box-shadow: 0 0 15px rgba(0, 240, 255, 0.15);
  clip-path: polygon(0 0, 100% 0, 100% 85%, 92% 100%, 0 100%);
}

[data-theme="cyberpunk"] .t-hero-button:hover {
  transform: none;
  background: var(--cyber-cyan);
  color: #000000;
  box-shadow: 0 0 30px rgba(0, 240, 255, 0.6);
}

/* === Comment Styles === */
.t-reply-btn {
  color: var(--muted-foreground);
}

.t-reply-btn:hover {
  color: var(--foreground);
}

[data-theme="cyberpunk"] .t-reply-btn {
  color: #6b7280;
}

[data-theme="cyberpunk"] .t-reply-btn:hover {
  color: var(--cyber-cyan);
  background-color: rgba(0, 240, 255, 0.1);
}

.t-submit-btn {
  /* Inherits from button, adds transition */
  transition: all 0.2s ease;
}

[data-theme="cyberpunk"] .t-submit-btn {
  background-color: var(--cyber-cyan);
  color: #000000;
}

[data-theme="cyberpunk"] .t-submit-btn:hover {
  background-color: rgba(0, 240, 255, 0.8);
}

/* === Readme Card Styles === */
.t-prose {
  /* Prose styling with theme inheritance */
  transition: color 0.2s ease;
}

.t-prose h1,
.t-prose h2,
.t-prose h3,
.t-prose h4,
.t-prose h5,
.t-prose h6 {
  color: var(--foreground);
}

.t-prose p,
.t-prose li {
  color: var(--foreground);
}

[data-theme="cyberpunk"] .t-prose h1,
[data-theme="cyberpunk"] .t-prose h2,
[data-theme="cyberpunk"] .t-prose h3,
[data-theme="cyberpunk"] .t-prose h4,
[data-theme="cyberpunk"] .t-prose h5,
[data-theme="cyberpunk"] .t-prose h6 {
  color: #ffffff;
}

[data-theme="cyberpunk"] .t-prose p,
[data-theme="cyberpunk"] .t-prose li {
  color: #d1d5db;
}

[data-theme="cyberpunk"] .t-prose a {
  color: var(--cyber-cyan);
}

[data-theme="cyberpunk"] .t-prose code {
  color: var(--cyber-purple);
  background-color: var(--cyber-dark);
}

[data-theme="cyberpunk"] .t-prose pre {
  background-color: var(--cyber-dark);
}

.t-expand-btn {
  color: var(--primary);
}

.t-expand-btn:hover {
  color: var(--primary);
}

[data-theme="cyberpunk"] .t-expand-btn {
  color: var(--cyber-cyan);
}

[data-theme="cyberpunk"] .t-expand-btn:hover {
  color: var(--cyber-cyan);
  background-color: rgba(0, 240, 255, 0.1);
}

.t-badge-completed {
  background-color: rgba(34, 197, 94, 0.1);
  color: #15803d;
  border: 1px solid rgba(34, 197, 94, 0.2);
}

[data-theme="cyberpunk"] .t-badge-completed {
  background-color: rgba(34, 197, 94, 0.2);
  color: #4ade80;
  border: 1px solid rgba(34, 197, 94, 0.3);
}

.t-markdown-preview {
  /* Markdown preview with theme inheritance */
  transition: color 0.2s ease;
}

[data-theme="cyberpunk"] .t-markdown-preview {
  color: #d1d5db;
}

[data-theme="cyberpunk"] .t-markdown-preview h1,
[data-theme="cyberpunk"] .t-markdown-preview h2,
[data-theme="cyberpunk"] .t-markdown-preview h3 {
  color: #ffffff;
}